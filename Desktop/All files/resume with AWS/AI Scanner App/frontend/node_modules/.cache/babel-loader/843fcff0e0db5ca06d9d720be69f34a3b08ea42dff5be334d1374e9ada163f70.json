{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Subba Reddy\\\\Desktop\\\\All files\\\\resume with AWS\\\\AI Scanner App\\\\frontend\\\\src\\\\components\\\\ChatBot.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { MessageCircle, Send, X, Brain, Zap, Loader2, Minimize2 } from 'lucide-react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatBot = ({\n  analysis,\n  isVisible,\n  onToggle\n}) => {\n  _s();\n  const [messages, setMessages] = useState([{\n    id: 1,\n    type: 'bot',\n    content: \"Hi! I'm your AI assistant. I've analyzed this page and I'm ready to answer any questions about the form fields, what to enter, or how to fill them out. What would you like to know?\",\n    timestamp: Date.now()\n  }]);\n  const [currentMessage, setCurrentMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    if (isVisible && !isMinimized) {\n      var _inputRef$current;\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }\n  }, [isVisible, isMinimized]);\n  const handleSendMessage = async () => {\n    if (!currentMessage.trim() || isLoading) return;\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: currentMessage.trim(),\n      timestamp: Date.now()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setCurrentMessage('');\n    setIsLoading(true);\n    try {\n      // Check if this is a general question (not about the current page)\n      const isGeneralQuestion = isGeneralQuestionType(userMessage.content);\n      const endpoint = isGeneralQuestion ? '/api/scanner/ask' : '/api/scanner/chat';\n      const requestData = isGeneralQuestion ? {\n        question: userMessage.content\n      } : {\n        question: userMessage.content,\n        url: analysis === null || analysis === void 0 ? void 0 : analysis.url,\n        pageContent: analysis === null || analysis === void 0 ? void 0 : analysis.pageSummary\n      };\n      const response = await axios.post(endpoint, requestData);\n      const botMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: response.data.answer || 'I apologize, but I couldn\\'t generate a response right now.',\n        timestamp: Date.now()\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: 'Sorry, I encountered an error while processing your question. Please try again.',\n        timestamp: Date.now()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Helper function to detect general questions\n  const isGeneralQuestionType = question => {\n    const lowerQuestion = question.toLowerCase();\n\n    // List of general topics that don't require page context\n    const generalTopics = ['what is', 'explain', 'define', 'describe', 'how does', 'tell me about', 'mongodb', 'database', 'sql', 'nosql', 'javascript', 'python', 'java', 'html', 'css', 'react', 'node.js', 'spring', 'docker', 'kubernetes', 'aws', 'azure', 'cloud', 'api', 'rest', 'graphql', 'microservices', 'machine learning', 'ai', 'artificial intelligence', 'data science', 'cybersecurity', 'networking', 'devops', 'agile', 'scrum', 'application', 'properties', 'config', 'configuration', 'setup', 'file', 'how to', 'what does', 'properties file', 'application.properties', 'spring boot', 'maven', 'gradle', 'dependencies', 'pom.xml'];\n\n    // Check if the question contains general topics\n    for (const topic of generalTopics) {\n      if (lowerQuestion.includes(topic)) {\n        return true;\n      }\n    }\n\n    // Check if it's a conceptual question (doesn't ask about specific page elements)\n    if (lowerQuestion.includes('what is') || lowerQuestion.includes('explain') || lowerQuestion.includes('define') || lowerQuestion.includes('how does') || lowerQuestion.includes('tell me about') || lowerQuestion.includes('how the') || lowerQuestion.includes('what does') || lowerQuestion.includes('properties') || lowerQuestion.includes('config') || lowerQuestion.includes('setup')) {\n      return true;\n    }\n    return false;\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const suggestedQuestions = [\"What is this form for?\", \"How do I fill out the name fields?\", \"What loan options are available?\", \"What information do I need to provide?\", \"How do I enter my phone number?\", \"What does each option mean?\", \"What is MongoDB?\", \"Explain databases\", \"What is React?\", \"Tell me about APIs\"];\n  const handleSuggestedQuestion = question => {\n    setCurrentMessage(question);\n    setTimeout(() => handleSendMessage(), 100);\n  };\n  if (!isVisible) return null;\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      scale: 0.8,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      scale: 1,\n      y: 0\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.8,\n      y: 20\n    },\n    className: \"fixed bottom-6 right-6 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white rounded-3xl shadow-2xl border border-gray-200 overflow-hidden ${isMinimized ? 'w-80 h-16' : 'w-96 h-[600px]'} transition-all duration-300`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(Brain, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-sm\",\n              children: \"AI Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs opacity-90\",\n              children: isLoading ? 'Thinking...' : 'Ask me anything about this form'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsMinimized(!isMinimized),\n            className: \"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(Minimize2, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onToggle,\n            className: \"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), !isMinimized && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1 overflow-y-auto p-4 space-y-4 h-[400px]\",\n          children: [messages.map(message => /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 10\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `max-w-[80%] rounded-2xl px-4 py-3 ${message.type === 'user' ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white' : 'bg-gray-100 text-gray-800'}`,\n              children: [message.type === 'bot' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(Brain, {\n                  className: \"w-4 h-4 text-purple-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-medium text-purple-600\",\n                  children: \"AI Assistant\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm whitespace-pre-wrap leading-relaxed\",\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this)\n          }, message.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this)), isLoading && /*#__PURE__*/_jsxDEV(motion.div, {\n            initial: {\n              opacity: 0,\n              y: 10\n            },\n            animate: {\n              opacity: 1,\n              y: 0\n            },\n            className: \"flex justify-start\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-100 rounded-2xl px-4 py-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(Brain, {\n                  className: \"w-4 h-4 text-purple-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs font-medium text-purple-600\",\n                  children: \"AI Assistant\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-4 h-4 animate-spin text-gray-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: \"Analyzing your question...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), messages.length <= 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-4 pb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-gray-500 mb-2\",\n            children: \"Quick questions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: suggestedQuestions.slice(0, 3).map((question, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSuggestedQuestion(question),\n              className: \"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full transition-colors\",\n              children: question\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 border-t border-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1 relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                ref: inputRef,\n                value: currentMessage,\n                onChange: e => setCurrentMessage(e.target.value),\n                onKeyPress: handleKeyPress,\n                placeholder: \"Ask me about this form...\",\n                className: \"w-full pr-12 py-3 px-4 border border-gray-300 rounded-2xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-none transition-all duration-200 text-sm\",\n                rows: \"1\",\n                style: {\n                  minHeight: '44px',\n                  maxHeight: '88px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSendMessage,\n                disabled: !currentMessage.trim() || isLoading,\n                className: \"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\",\n                children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-4 h-4 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(Send, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n};\n\n// Action Button Component (iPhone-style floating button)\n_s(ChatBot, \"hpp9Jd7LZi5BqDflbOt1i9cAJ2M=\");\n_c = ChatBot;\nexport const ActionButton = ({\n  onClick,\n  hasAnalysis\n}) => {\n  _s2();\n  const [isHovered, setIsHovered] = useState(false);\n  return /*#__PURE__*/_jsxDEV(motion.button, {\n    onClick: onClick,\n    onHoverStart: () => setIsHovered(true),\n    onHoverEnd: () => setIsHovered(false),\n    whileHover: {\n      scale: 1.1\n    },\n    whileTap: {\n      scale: 0.95\n    },\n    className: \"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl flex items-center justify-center z-40\",\n    style: {\n      background: isHovered ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' : 'linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)'\n    },\n    children: [/*#__PURE__*/_jsxDEV(AnimatePresence, {\n      mode: \"wait\",\n      children: hasAnalysis ? /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          scale: 0,\n          rotate: -180\n        },\n        animate: {\n          scale: 1,\n          rotate: 0\n        },\n        exit: {\n          scale: 0,\n          rotate: 180\n        },\n        transition: {\n          duration: 0.3\n        },\n        children: /*#__PURE__*/_jsxDEV(Brain, {\n          className: \"w-8 h-8 text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 13\n        }, this)\n      }, \"brain\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          scale: 0,\n          rotate: -180\n        },\n        animate: {\n          scale: 1,\n          rotate: 0\n        },\n        exit: {\n          scale: 0,\n          rotate: 180\n        },\n        transition: {\n          duration: 0.3\n        },\n        children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n          className: \"w-8 h-8 text-white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)\n      }, \"message\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute inset-0 rounded-full border-4 border-white border-opacity-30\",\n      animate: isHovered ? {\n        scale: [1, 1.2, 1],\n        opacity: [0.3, 0, 0.3]\n      } : {},\n      transition: {\n        duration: 2,\n        repeat: isHovered ? Infinity : 0,\n        ease: \"easeInOut\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 301,\n    columnNumber: 5\n  }, this);\n};\n_s2(ActionButton, \"FPQn8a98tPjpohC7NUYORQR8GJE=\");\n_c2 = ActionButton;\nexport default ChatBot;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChatBot\");\n$RefreshReg$(_c2, \"ActionButton\");","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","AnimatePresence","MessageCircle","Send","X","Brain","Zap","Loader2","Minimize2","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatBot","analysis","isVisible","onToggle","_s","messages","setMessages","id","type","content","timestamp","Date","now","currentMessage","setCurrentMessage","isLoading","setIsLoading","isMinimized","setIsMinimized","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","_inputRef$current","focus","handleSendMessage","trim","userMessage","prev","isGeneralQuestion","isGeneralQuestionType","endpoint","requestData","question","url","pageContent","pageSummary","response","post","botMessage","data","answer","error","errorMessage","lowerQuestion","toLowerCase","generalTopics","topic","includes","handleKeyPress","e","key","shiftKey","preventDefault","suggestedQuestions","handleSuggestedQuestion","setTimeout","div","initial","opacity","scale","y","animate","exit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","message","ref","length","slice","index","value","onChange","target","onKeyPress","placeholder","rows","style","minHeight","maxHeight","disabled","_c","ActionButton","hasAnalysis","_s2","isHovered","setIsHovered","button","onHoverStart","onHoverEnd","whileHover","whileTap","background","mode","rotate","transition","duration","repeat","Infinity","ease","_c2","$RefreshReg$"],"sources":["C:/Users/Subba Reddy/Desktop/All files/resume with AWS/AI Scanner App/frontend/src/components/ChatBot.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { MessageCircle, Send, X, Brain, Zap, Loader2, Minimize2 } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\nconst ChatBot = ({ analysis, isVisible, onToggle }) => {\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      id: 1,\r\n      type: 'bot',\r\n      content: \"Hi! I'm your AI assistant. I've analyzed this page and I'm ready to answer any questions about the form fields, what to enter, or how to fill them out. What would you like to know?\",\r\n      timestamp: Date.now()\r\n    }\r\n  ]);\r\n  const [currentMessage, setCurrentMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (isVisible && !isMinimized) {\r\n      inputRef.current?.focus();\r\n    }\r\n  }, [isVisible, isMinimized]);\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!currentMessage.trim() || isLoading) return;\r\n\r\n    const userMessage = {\r\n      id: Date.now(),\r\n      type: 'user',\r\n      content: currentMessage.trim(),\r\n      timestamp: Date.now()\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setCurrentMessage('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      // Check if this is a general question (not about the current page)\r\n      const isGeneralQuestion = isGeneralQuestionType(userMessage.content);\r\n      \r\n      const endpoint = isGeneralQuestion ? '/api/scanner/ask' : '/api/scanner/chat';\r\n      const requestData = isGeneralQuestion ? \r\n        { question: userMessage.content } :\r\n        { question: userMessage.content, url: analysis?.url, pageContent: analysis?.pageSummary };\r\n\r\n      const response = await axios.post(endpoint, requestData);\r\n\r\n      const botMessage = {\r\n        id: Date.now() + 1,\r\n        type: 'bot',\r\n        content: response.data.answer || 'I apologize, but I couldn\\'t generate a response right now.',\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      setMessages(prev => [...prev, botMessage]);\r\n    } catch (error) {\r\n      const errorMessage = {\r\n        id: Date.now() + 1,\r\n        type: 'bot',\r\n        content: 'Sorry, I encountered an error while processing your question. Please try again.',\r\n        timestamp: Date.now()\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper function to detect general questions\r\n  const isGeneralQuestionType = (question) => {\r\n    const lowerQuestion = question.toLowerCase();\r\n    \r\n    // List of general topics that don't require page context\r\n    const generalTopics = [\r\n      'what is', 'explain', 'define', 'describe', 'how does', 'tell me about',\r\n      'mongodb', 'database', 'sql', 'nosql', 'javascript', 'python', 'java',\r\n      'html', 'css', 'react', 'node.js', 'spring', 'docker', 'kubernetes',\r\n      'aws', 'azure', 'cloud', 'api', 'rest', 'graphql', 'microservices',\r\n      'machine learning', 'ai', 'artificial intelligence', 'data science',\r\n      'cybersecurity', 'networking', 'devops', 'agile', 'scrum',\r\n      'application', 'properties', 'config', 'configuration', 'setup', 'file',\r\n      'how to', 'what does', 'properties file', 'application.properties',\r\n      'spring boot', 'maven', 'gradle', 'dependencies', 'pom.xml'\r\n    ];\r\n    \r\n    // Check if the question contains general topics\r\n    for (const topic of generalTopics) {\r\n      if (lowerQuestion.includes(topic)) {\r\n        return true;\r\n      }\r\n    }\r\n    \r\n    // Check if it's a conceptual question (doesn't ask about specific page elements)\r\n    if (lowerQuestion.includes('what is') || \r\n        lowerQuestion.includes('explain') || \r\n        lowerQuestion.includes('define') || \r\n        lowerQuestion.includes('how does') ||\r\n        lowerQuestion.includes('tell me about') ||\r\n        lowerQuestion.includes('how the') ||\r\n        lowerQuestion.includes('what does') ||\r\n        lowerQuestion.includes('properties') ||\r\n        lowerQuestion.includes('config') ||\r\n        lowerQuestion.includes('setup')) {\r\n      return true;\r\n    }\r\n    \r\n    return false;\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const suggestedQuestions = [\r\n    \"What is this form for?\",\r\n    \"How do I fill out the name fields?\",\r\n    \"What loan options are available?\",\r\n    \"What information do I need to provide?\",\r\n    \"How do I enter my phone number?\",\r\n    \"What does each option mean?\",\r\n    \"What is MongoDB?\",\r\n    \"Explain databases\",\r\n    \"What is React?\",\r\n    \"Tell me about APIs\"\r\n  ];\r\n\r\n  const handleSuggestedQuestion = (question) => {\r\n    setCurrentMessage(question);\r\n    setTimeout(() => handleSendMessage(), 100);\r\n  };\r\n\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.8, y: 20 }}\r\n      animate={{ opacity: 1, scale: 1, y: 0 }}\r\n      exit={{ opacity: 0, scale: 0.8, y: 20 }}\r\n      className=\"fixed bottom-6 right-6 z-50\"\r\n    >\r\n      <div className={`bg-white rounded-3xl shadow-2xl border border-gray-200 overflow-hidden ${\r\n        isMinimized ? 'w-80 h-16' : 'w-96 h-[600px]'\r\n      } transition-all duration-300`}>\r\n        \r\n        {/* Header */}\r\n        <div className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\r\n              <Brain className=\"w-4 h-4\" />\r\n            </div>\r\n            <div>\r\n              <h3 className=\"font-semibold text-sm\">AI Assistant</h3>\r\n              <p className=\"text-xs opacity-90\">\r\n                {isLoading ? 'Thinking...' : 'Ask me anything about this form'}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => setIsMinimized(!isMinimized)}\r\n              className=\"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\"\r\n            >\r\n              <Minimize2 className=\"w-4 h-4\" />\r\n            </button>\r\n            <button\r\n              onClick={onToggle}\r\n              className=\"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\"\r\n            >\r\n              <X className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {!isMinimized && (\r\n          <>\r\n            {/* Messages */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4 h-[400px]\">\r\n              {messages.map((message) => (\r\n                <motion.div\r\n                  key={message.id}\r\n                  initial={{ opacity: 0, y: 10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\r\n                >\r\n                  <div className={`max-w-[80%] rounded-2xl px-4 py-3 ${\r\n                    message.type === 'user'\r\n                      ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white'\r\n                      : 'bg-gray-100 text-gray-800'\r\n                  }`}>\r\n                    {message.type === 'bot' && (\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <Brain className=\"w-4 h-4 text-purple-600\" />\r\n                        <span className=\"text-xs font-medium text-purple-600\">AI Assistant</span>\r\n                      </div>\r\n                    )}\r\n                    <p className=\"text-sm whitespace-pre-wrap leading-relaxed\">\r\n                      {message.content}\r\n                    </p>\r\n                  </div>\r\n                </motion.div>\r\n              ))}\r\n              \r\n              {isLoading && (\r\n                <motion.div\r\n                  initial={{ opacity: 0, y: 10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  className=\"flex justify-start\"\r\n                >\r\n                  <div className=\"bg-gray-100 rounded-2xl px-4 py-3\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                      <Brain className=\"w-4 h-4 text-purple-600\" />\r\n                      <span className=\"text-xs font-medium text-purple-600\">AI Assistant</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Loader2 className=\"w-4 h-4 animate-spin text-gray-600\" />\r\n                      <span className=\"text-sm text-gray-600\">Analyzing your question...</span>\r\n                    </div>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n              \r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Suggested Questions */}\r\n            {messages.length <= 1 && (\r\n              <div className=\"px-4 pb-2\">\r\n                <p className=\"text-xs text-gray-500 mb-2\">Quick questions:</p>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {suggestedQuestions.slice(0, 3).map((question, index) => (\r\n                    <button\r\n                      key={index}\r\n                      onClick={() => handleSuggestedQuestion(question)}\r\n                      className=\"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full transition-colors\"\r\n                    >\r\n                      {question}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Input */}\r\n            <div className=\"p-4 border-t border-gray-200\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <div className=\"flex-1 relative\">\r\n                  <textarea\r\n                    ref={inputRef}\r\n                    value={currentMessage}\r\n                    onChange={(e) => setCurrentMessage(e.target.value)}\r\n                    onKeyPress={handleKeyPress}\r\n                    placeholder=\"Ask me about this form...\"\r\n                    className=\"w-full pr-12 py-3 px-4 border border-gray-300 rounded-2xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-none transition-all duration-200 text-sm\"\r\n                    rows=\"1\"\r\n                    style={{\r\n                      minHeight: '44px',\r\n                      maxHeight: '88px'\r\n                    }}\r\n                  />\r\n                  <button\r\n                    onClick={handleSendMessage}\r\n                    disabled={!currentMessage.trim() || isLoading}\r\n                    className=\"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\r\n                  >\r\n                    {isLoading ? (\r\n                      <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                    ) : (\r\n                      <Send className=\"w-4 h-4\" />\r\n                    )}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Action Button Component (iPhone-style floating button)\r\nexport const ActionButton = ({ onClick, hasAnalysis }) => {\r\n  const [isHovered, setIsHovered] = useState(false);\r\n\r\n  return (\r\n    <motion.button\r\n      onClick={onClick}\r\n      onHoverStart={() => setIsHovered(true)}\r\n      onHoverEnd={() => setIsHovered(false)}\r\n      whileHover={{ scale: 1.1 }}\r\n      whileTap={{ scale: 0.95 }}\r\n      className=\"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl flex items-center justify-center z-40\"\r\n      style={{\r\n        background: isHovered \r\n          ? 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)'\r\n          : 'linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)'\r\n      }}\r\n    >\r\n      <AnimatePresence mode=\"wait\">\r\n        {hasAnalysis ? (\r\n          <motion.div\r\n            key=\"brain\"\r\n            initial={{ scale: 0, rotate: -180 }}\r\n            animate={{ scale: 1, rotate: 0 }}\r\n            exit={{ scale: 0, rotate: 180 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <Brain className=\"w-8 h-8 text-white\" />\r\n          </motion.div>\r\n        ) : (\r\n          <motion.div\r\n            key=\"message\"\r\n            initial={{ scale: 0, rotate: -180 }}\r\n            animate={{ scale: 1, rotate: 0 }}\r\n            exit={{ scale: 0, rotate: 180 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <MessageCircle className=\"w-8 h-8 text-white\" />\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n      \r\n      {/* Ripple effect */}\r\n      <motion.div\r\n        className=\"absolute inset-0 rounded-full border-4 border-white border-opacity-30\"\r\n        animate={isHovered ? {\r\n          scale: [1, 1.2, 1],\r\n          opacity: [0.3, 0, 0.3]\r\n        } : {}}\r\n        transition={{\r\n          duration: 2,\r\n          repeat: isHovered ? Infinity : 0,\r\n          ease: \"easeInOut\"\r\n        }}\r\n      />\r\n    </motion.button>\r\n  );\r\n};\r\n\r\nexport default ChatBot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}