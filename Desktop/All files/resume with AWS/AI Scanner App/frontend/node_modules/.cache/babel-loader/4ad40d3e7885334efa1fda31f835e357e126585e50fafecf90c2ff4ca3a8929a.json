{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Subba Reddy\\\\Desktop\\\\All files\\\\resume with AWS\\\\AI Scanner App\\\\frontend\\\\src\\\\components\\\\UniversalAssistant.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { MessageCircle, Send, X, Minimize2, Scan, Brain, Loader2, Zap, Globe, Eye } from 'lucide-react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UniversalAssistant = () => {\n  _s();\n  const [isVisible, setIsVisible] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [messages, setMessages] = useState([{\n    id: 1,\n    type: 'bot',\n    content: \"Hi! I'm your Universal AI Assistant. I can analyze any webpage you're on. Click the scan button to analyze this page, or ask me anything!\",\n    timestamp: Date.now()\n  }]);\n  const [currentMessage, setCurrentMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isScanning, setIsScanning] = useState(false);\n  const [currentPageAnalysis, setCurrentPageAnalysis] = useState(null);\n  const [currentUrl, setCurrentUrl] = useState('');\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    // Get current page URL\n    setCurrentUrl(window.location.href);\n  }, []);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    if (isVisible && !isMinimized) {\n      var _inputRef$current;\n      (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n    }\n  }, [isVisible, isMinimized]);\n  const scanCurrentPage = async () => {\n    setIsScanning(true);\n    const scanMessage = {\n      id: Date.now(),\n      type: 'bot',\n      content: \"ðŸ” Scanning current page... Analyzing all form fields and content...\",\n      timestamp: Date.now()\n    };\n    setMessages(prev => [...prev, scanMessage]);\n    try {\n      var _response$data$fields;\n      const response = await axios.post('/api/scanner/analyze', {\n        url: window.location.href\n      });\n      setCurrentPageAnalysis(response.data);\n      const resultMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: `âœ… Page scan complete! I found ${((_response$data$fields = response.data.fields) === null || _response$data$fields === void 0 ? void 0 : _response$data$fields.length) || 0} form fields on this page.\\n\\n${response.data.pageSummary}\\n\\nNow I can answer any questions about this page's forms, fields, or content!`,\n        timestamp: Date.now()\n      };\n      setMessages(prev => [...prev, resultMessage]);\n    } catch (error) {\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: \"âŒ Sorry, I couldn't scan this page. This might be due to CORS restrictions or the page might not be accessible. You can still ask me questions about web forms in general!\",\n        timestamp: Date.now()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsScanning(false);\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!currentMessage.trim() || isLoading) return;\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      content: currentMessage.trim(),\n      timestamp: Date.now()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setCurrentMessage('');\n    setIsLoading(true);\n    try {\n      const response = await axios.post('/api/scanner/chat', {\n        question: userMessage.content,\n        url: currentUrl,\n        pageContent: (currentPageAnalysis === null || currentPageAnalysis === void 0 ? void 0 : currentPageAnalysis.pageSummary) || ''\n      });\n      const botMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: response.data.answer || 'I apologize, but I couldn\\'t generate a response right now.',\n        timestamp: Date.now()\n      };\n      setMessages(prev => [...prev, botMessage]);\n    } catch (error) {\n      const errorMessage = {\n        id: Date.now() + 1,\n        type: 'bot',\n        content: 'Sorry, I encountered an error while processing your question. Please try again.',\n        timestamp: Date.now()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const quickActions = [{\n    text: \"Scan this page\",\n    action: scanCurrentPage,\n    icon: Scan\n  }, {\n    text: \"What forms are here?\",\n    action: () => setCurrentMessage(\"What forms are on this page?\")\n  }, {\n    text: \"How do I fill this out?\",\n    action: () => setCurrentMessage(\"How do I fill out the forms on this page?\")\n  }, {\n    text: \"What is this page for?\",\n    action: () => setCurrentMessage(\"What is this page for?\")\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!isVisible && /*#__PURE__*/_jsxDEV(motion.button, {\n      initial: {\n        scale: 0\n      },\n      animate: {\n        scale: 1\n      },\n      whileHover: {\n        scale: 1.1\n      },\n      whileTap: {\n        scale: 0.95\n      },\n      onClick: () => setIsVisible(true),\n      className: \"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl flex items-center justify-center z-[9999] hover:shadow-3xl transition-all duration-300\",\n      style: {\n        boxShadow: '0 10px 25px rgba(59, 130, 246, 0.3), 0 6px 12px rgba(139, 92, 246, 0.3)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Brain, {\n        className: \"w-8 h-8 text-white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"absolute inset-0 rounded-full bg-blue-400 opacity-20\",\n        animate: {\n          scale: [1, 1.3, 1],\n          opacity: [0.2, 0, 0.2]\n        },\n        transition: {\n          duration: 2,\n          repeat: Infinity,\n          ease: \"easeInOut\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: isVisible && /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          scale: 0.8,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          scale: 1,\n          y: 0\n        },\n        exit: {\n          opacity: 0,\n          scale: 0.8,\n          y: 20\n        },\n        className: `fixed bottom-6 right-6 bg-white rounded-3xl shadow-2xl border border-gray-200 overflow-hidden z-[9999] ${isMinimized ? 'w-80 h-16' : 'w-96 h-[600px]'} transition-all duration-300`,\n        style: {\n          boxShadow: '0 25px 50px rgba(0, 0, 0, 0.15), 0 12px 24px rgba(0, 0, 0, 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(Brain, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-sm\",\n                children: \"Universal AI Assistant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs opacity-90\",\n                children: isLoading ? 'Thinking...' : isScanning ? 'Scanning page...' : 'Ready to help on any page'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsMinimized(!isMinimized),\n              className: \"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(Minimize2, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setIsVisible(false),\n              className: \"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\",\n              children: /*#__PURE__*/_jsxDEV(X, {\n                className: \"w-4 h-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), !isMinimized && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 bg-gray-50 border-b border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2 overflow-x-auto\",\n              children: [/*#__PURE__*/_jsxDEV(motion.button, {\n                whileHover: {\n                  scale: 1.02\n                },\n                whileTap: {\n                  scale: 0.98\n                },\n                onClick: scanCurrentPage,\n                disabled: isScanning,\n                className: \"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl text-xs font-medium hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 whitespace-nowrap\",\n                children: [isScanning ? /*#__PURE__*/_jsxDEV(Loader2, {\n                  className: \"w-4 h-4 animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Scan, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 25\n                }, this), isScanning ? 'Scanning...' : 'Scan Page']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1 px-3 py-2 bg-gray-200 text-gray-600 rounded-xl text-xs\",\n                children: [/*#__PURE__*/_jsxDEV(Globe, {\n                  className: \"w-3 h-3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"truncate max-w-32\",\n                  children: window.location.hostname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 overflow-y-auto p-4 space-y-4 h-[360px]\",\n            children: [messages.map(message => /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 10\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              className: `flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `max-w-[80%] rounded-2xl px-4 py-3 ${message.type === 'user' ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white' : 'bg-gray-100 text-gray-800'}`,\n                children: [message.type === 'bot' && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Brain, {\n                    className: \"w-4 h-4 text-purple-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs font-medium text-purple-600\",\n                    children: \"AI Assistant\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm whitespace-pre-wrap leading-relaxed\",\n                  children: message.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 23\n              }, this)\n            }, message.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 21\n            }, this)), isLoading && /*#__PURE__*/_jsxDEV(motion.div, {\n              initial: {\n                opacity: 0,\n                y: 10\n              },\n              animate: {\n                opacity: 1,\n                y: 0\n              },\n              className: \"flex justify-start\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-100 rounded-2xl px-4 py-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2 mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Brain, {\n                    className: \"w-4 h-4 text-purple-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs font-medium text-purple-600\",\n                    children: \"AI Assistant\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-4 h-4 animate-spin text-gray-600\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm text-gray-600\",\n                    children: \"Analyzing your question...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this), messages.length <= 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"px-4 pb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500 mb-2\",\n              children: \"Quick actions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: quickActions.slice(1, 4).map((action, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => action.action(),\n                className: \"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full transition-colors\",\n                children: action.text\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 border-t border-gray-200\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-1 relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  ref: inputRef,\n                  value: currentMessage,\n                  onChange: e => setCurrentMessage(e.target.value),\n                  onKeyPress: handleKeyPress,\n                  placeholder: \"Ask about this page or any form...\",\n                  className: \"w-full pr-12 py-3 px-4 border border-gray-300 rounded-2xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-none transition-all duration-200 text-sm\",\n                  rows: \"1\",\n                  style: {\n                    minHeight: '44px',\n                    maxHeight: '88px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSendMessage,\n                  disabled: !currentMessage.trim() || isLoading,\n                  className: \"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\",\n                  children: isLoading ? /*#__PURE__*/_jsxDEV(Loader2, {\n                    className: \"w-4 h-4 animate-spin\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(Send, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(UniversalAssistant, \"9L8a8bKYugwFmXMj/YVDlbU4eIQ=\");\n_c = UniversalAssistant;\nexport default UniversalAssistant;\nvar _c;\n$RefreshReg$(_c, \"UniversalAssistant\");","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","AnimatePresence","MessageCircle","Send","X","Minimize2","Scan","Brain","Loader2","Zap","Globe","Eye","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","UniversalAssistant","_s","isVisible","setIsVisible","isMinimized","setIsMinimized","messages","setMessages","id","type","content","timestamp","Date","now","currentMessage","setCurrentMessage","isLoading","setIsLoading","isScanning","setIsScanning","currentPageAnalysis","setCurrentPageAnalysis","currentUrl","setCurrentUrl","messagesEndRef","inputRef","window","location","href","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","_inputRef$current","focus","scanCurrentPage","scanMessage","prev","_response$data$fields","response","post","url","data","resultMessage","fields","length","pageSummary","error","errorMessage","handleSendMessage","trim","userMessage","question","pageContent","botMessage","answer","handleKeyPress","e","key","shiftKey","preventDefault","quickActions","text","action","icon","children","button","initial","scale","animate","whileHover","whileTap","onClick","className","style","boxShadow","fileName","_jsxFileName","lineNumber","columnNumber","div","opacity","transition","duration","repeat","Infinity","ease","y","exit","disabled","hostname","map","message","ref","slice","index","value","onChange","target","onKeyPress","placeholder","rows","minHeight","maxHeight","_c","$RefreshReg$"],"sources":["C:/Users/Subba Reddy/Desktop/All files/resume with AWS/AI Scanner App/frontend/src/components/UniversalAssistant.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { MessageCircle, Send, X, Minimize2, Scan, Brain, Loader2, Zap, Globe, Eye } from 'lucide-react';\r\nimport axios from 'axios';\r\n\r\nconst UniversalAssistant = () => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n  const [isMinimized, setIsMinimized] = useState(false);\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      id: 1,\r\n      type: 'bot',\r\n      content: \"Hi! I'm your Universal AI Assistant. I can analyze any webpage you're on. Click the scan button to analyze this page, or ask me anything!\",\r\n      timestamp: Date.now()\r\n    }\r\n  ]);\r\n  const [currentMessage, setCurrentMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [currentPageAnalysis, setCurrentPageAnalysis] = useState(null);\r\n  const [currentUrl, setCurrentUrl] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Get current page URL\r\n    setCurrentUrl(window.location.href);\r\n  }, []);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (isVisible && !isMinimized) {\r\n      inputRef.current?.focus();\r\n    }\r\n  }, [isVisible, isMinimized]);\r\n\r\n  const scanCurrentPage = async () => {\r\n    setIsScanning(true);\r\n    \r\n    const scanMessage = {\r\n      id: Date.now(),\r\n      type: 'bot',\r\n      content: \"ðŸ” Scanning current page... Analyzing all form fields and content...\",\r\n      timestamp: Date.now()\r\n    };\r\n    setMessages(prev => [...prev, scanMessage]);\r\n\r\n    try {\r\n      const response = await axios.post('/api/scanner/analyze', { \r\n        url: window.location.href \r\n      });\r\n\r\n      setCurrentPageAnalysis(response.data);\r\n      \r\n      const resultMessage = {\r\n        id: Date.now() + 1,\r\n        type: 'bot',\r\n        content: `âœ… Page scan complete! I found ${response.data.fields?.length || 0} form fields on this page.\\n\\n${response.data.pageSummary}\\n\\nNow I can answer any questions about this page's forms, fields, or content!`,\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      setMessages(prev => [...prev, resultMessage]);\r\n    } catch (error) {\r\n      const errorMessage = {\r\n        id: Date.now() + 1,\r\n        type: 'bot',\r\n        content: \"âŒ Sorry, I couldn't scan this page. This might be due to CORS restrictions or the page might not be accessible. You can still ask me questions about web forms in general!\",\r\n        timestamp: Date.now()\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsScanning(false);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (!currentMessage.trim() || isLoading) return;\r\n\r\n    const userMessage = {\r\n      id: Date.now(),\r\n      type: 'user',\r\n      content: currentMessage.trim(),\r\n      timestamp: Date.now()\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setCurrentMessage('');\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const response = await axios.post('/api/scanner/chat', {\r\n        question: userMessage.content,\r\n        url: currentUrl,\r\n        pageContent: currentPageAnalysis?.pageSummary || ''\r\n      });\r\n\r\n      const botMessage = {\r\n        id: Date.now() + 1,\r\n        type: 'bot',\r\n        content: response.data.answer || 'I apologize, but I couldn\\'t generate a response right now.',\r\n        timestamp: Date.now()\r\n      };\r\n\r\n      setMessages(prev => [...prev, botMessage]);\r\n    } catch (error) {\r\n      const errorMessage = {\r\n        id: Date.now() + 1,\r\n        type: 'bot',\r\n        content: 'Sorry, I encountered an error while processing your question. Please try again.',\r\n        timestamp: Date.now()\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  const quickActions = [\r\n    { text: \"Scan this page\", action: scanCurrentPage, icon: Scan },\r\n    { text: \"What forms are here?\", action: () => setCurrentMessage(\"What forms are on this page?\") },\r\n    { text: \"How do I fill this out?\", action: () => setCurrentMessage(\"How do I fill out the forms on this page?\") },\r\n    { text: \"What is this page for?\", action: () => setCurrentMessage(\"What is this page for?\") }\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {/* Floating Action Button */}\r\n      {!isVisible && (\r\n        <motion.button\r\n          initial={{ scale: 0 }}\r\n          animate={{ scale: 1 }}\r\n          whileHover={{ scale: 1.1 }}\r\n          whileTap={{ scale: 0.95 }}\r\n          onClick={() => setIsVisible(true)}\r\n          className=\"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full shadow-2xl flex items-center justify-center z-[9999] hover:shadow-3xl transition-all duration-300\"\r\n          style={{\r\n            boxShadow: '0 10px 25px rgba(59, 130, 246, 0.3), 0 6px 12px rgba(139, 92, 246, 0.3)'\r\n          }}\r\n        >\r\n          <Brain className=\"w-8 h-8 text-white\" />\r\n          \r\n          {/* Pulse animation */}\r\n          <motion.div\r\n            className=\"absolute inset-0 rounded-full bg-blue-400 opacity-20\"\r\n            animate={{\r\n              scale: [1, 1.3, 1],\r\n              opacity: [0.2, 0, 0.2]\r\n            }}\r\n            transition={{\r\n              duration: 2,\r\n              repeat: Infinity,\r\n              ease: \"easeInOut\"\r\n            }}\r\n          />\r\n        </motion.button>\r\n      )}\r\n\r\n      {/* Universal Assistant Chat Interface */}\r\n      <AnimatePresence>\r\n        {isVisible && (\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.8, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.8, y: 20 }}\r\n            className={`fixed bottom-6 right-6 bg-white rounded-3xl shadow-2xl border border-gray-200 overflow-hidden z-[9999] ${\r\n              isMinimized ? 'w-80 h-16' : 'w-96 h-[600px]'\r\n            } transition-all duration-300`}\r\n            style={{\r\n              boxShadow: '0 25px 50px rgba(0, 0, 0, 0.15), 0 12px 24px rgba(0, 0, 0, 0.1)'\r\n            }}\r\n          >\r\n            \r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center\">\r\n                  <Brain className=\"w-4 h-4\" />\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"font-semibold text-sm\">Universal AI Assistant</h3>\r\n                  <p className=\"text-xs opacity-90\">\r\n                    {isLoading ? 'Thinking...' : isScanning ? 'Scanning page...' : 'Ready to help on any page'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={() => setIsMinimized(!isMinimized)}\r\n                  className=\"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\"\r\n                >\r\n                  <Minimize2 className=\"w-4 h-4\" />\r\n                </button>\r\n                <button\r\n                  onClick={() => setIsVisible(false)}\r\n                  className=\"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-opacity-30 transition-colors\"\r\n                >\r\n                  <X className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {!isMinimized && (\r\n              <>\r\n                {/* Quick Actions Bar */}\r\n                <div className=\"p-3 bg-gray-50 border-b border-gray-200\">\r\n                  <div className=\"flex gap-2 overflow-x-auto\">\r\n                    <motion.button\r\n                      whileHover={{ scale: 1.02 }}\r\n                      whileTap={{ scale: 0.98 }}\r\n                      onClick={scanCurrentPage}\r\n                      disabled={isScanning}\r\n                      className=\"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl text-xs font-medium hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 whitespace-nowrap\"\r\n                    >\r\n                      {isScanning ? (\r\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                      ) : (\r\n                        <Scan className=\"w-4 h-4\" />\r\n                      )}\r\n                      {isScanning ? 'Scanning...' : 'Scan Page'}\r\n                    </motion.button>\r\n                    \r\n                    <div className=\"flex items-center gap-1 px-3 py-2 bg-gray-200 text-gray-600 rounded-xl text-xs\">\r\n                      <Globe className=\"w-3 h-3\" />\r\n                      <span className=\"truncate max-w-32\">{window.location.hostname}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Messages */}\r\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-4 h-[360px]\">\r\n                  {messages.map((message) => (\r\n                    <motion.div\r\n                      key={message.id}\r\n                      initial={{ opacity: 0, y: 10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\r\n                    >\r\n                      <div className={`max-w-[80%] rounded-2xl px-4 py-3 ${\r\n                        message.type === 'user'\r\n                          ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white'\r\n                          : 'bg-gray-100 text-gray-800'\r\n                      }`}>\r\n                        {message.type === 'bot' && (\r\n                          <div className=\"flex items-center gap-2 mb-2\">\r\n                            <Brain className=\"w-4 h-4 text-purple-600\" />\r\n                            <span className=\"text-xs font-medium text-purple-600\">AI Assistant</span>\r\n                          </div>\r\n                        )}\r\n                        <p className=\"text-sm whitespace-pre-wrap leading-relaxed\">\r\n                          {message.content}\r\n                        </p>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                  \r\n                  {isLoading && (\r\n                    <motion.div\r\n                      initial={{ opacity: 0, y: 10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      className=\"flex justify-start\"\r\n                    >\r\n                      <div className=\"bg-gray-100 rounded-2xl px-4 py-3\">\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                          <Brain className=\"w-4 h-4 text-purple-600\" />\r\n                          <span className=\"text-xs font-medium text-purple-600\">AI Assistant</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Loader2 className=\"w-4 h-4 animate-spin text-gray-600\" />\r\n                          <span className=\"text-sm text-gray-600\">Analyzing your question...</span>\r\n                        </div>\r\n                      </div>\r\n                    </motion.div>\r\n                  )}\r\n                  \r\n                  <div ref={messagesEndRef} />\r\n                </div>\r\n\r\n                {/* Quick Questions */}\r\n                {messages.length <= 2 && (\r\n                  <div className=\"px-4 pb-2\">\r\n                    <p className=\"text-xs text-gray-500 mb-2\">Quick actions:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {quickActions.slice(1, 4).map((action, index) => (\r\n                        <button\r\n                          key={index}\r\n                          onClick={() => action.action()}\r\n                          className=\"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-1 rounded-full transition-colors\"\r\n                        >\r\n                          {action.text}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Input */}\r\n                <div className=\"p-4 border-t border-gray-200\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <div className=\"flex-1 relative\">\r\n                      <textarea\r\n                        ref={inputRef}\r\n                        value={currentMessage}\r\n                        onChange={(e) => setCurrentMessage(e.target.value)}\r\n                        onKeyPress={handleKeyPress}\r\n                        placeholder=\"Ask about this page or any form...\"\r\n                        className=\"w-full pr-12 py-3 px-4 border border-gray-300 rounded-2xl focus:border-blue-500 focus:ring-2 focus:ring-blue-100 resize-none transition-all duration-200 text-sm\"\r\n                        rows=\"1\"\r\n                        style={{\r\n                          minHeight: '44px',\r\n                          maxHeight: '88px'\r\n                        }}\r\n                      />\r\n                      <button\r\n                        onClick={handleSendMessage}\r\n                        disabled={!currentMessage.trim() || isLoading}\r\n                        className=\"absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full flex items-center justify-center hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                        ) : (\r\n                          <Send className=\"w-4 h-4\" />\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </>\r\n            )}\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UniversalAssistant;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}